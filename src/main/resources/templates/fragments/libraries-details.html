<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <title th:text="${library.name + ' - VÖBB'}">Library Details - VÖBB</title>
    <link rel="stylesheet" th:href="@{/css/main.css}">
    <link rel="stylesheet" th:href="@{/css/libraries.css}">
</head>
<body>
<!-- Include header fragment -->
<div th:replace="~{fragments/header :: header}"></div>

<div class="container">
    <div class="breadcrumb">
        <a th:href="@{/}" th:text="#{nav.home}">Home</a> &gt;
        <a th:href="@{/libraries}" th:text="#{libraries.title}">Libraries</a> &gt;
        <span th:text="${library.name}">Library Name</span>
    </div>

    <!-- Alert messages -->
    <div th:if="${success}" class="alert alert-success">
        <span th:text="${success}"></span>
    </div>

    <div class="library-details">
        <h1 th:text="${library.name}">Library Name</h1>

        <div class="detail-section">
            <div class="detail-label" th:text="#{library.location}">Location:</div>
            <div class="detail-value">
                <a th:href="@{/libraries/location/{location}(location=${library.location})}" th:text="${library.location}">Location</a>
            </div>
        </div>

        <div class="detail-section" th:if="${library.address}">
            <div class="detail-label" th:text="#{library.address}">Address:</div>
            <div class="detail-value" th:text="${library.address}">Library Address</div>
        </div>

        <div class="detail-section" th:if="${library.description}">
            <div class="detail-label" th:text="#{library.description}">Description:</div>
            <div class="detail-value description-text" th:text="${library.description}">
                Library description text goes here...
            </div>
        </div>

        <div class="detail-section" th:if="${library.openingHours}">
            <div class="detail-label" th:text="#{library.openingHours}">Opening Hours:</div>
            <div class="detail-value" th:text="${library.openingHours}">
                Monday - Friday: 9:00 - 19:00
                Saturday: 10:00 - 16:00
            </div>
        </div>

        <div class="contact-info">
            <h3 th:text="#{library.contactInfo}">Contact Information</h3>

            <div class="detail-section" th:if="${library.phone}">
                <div class="detail-label" th:text="#{library.phone}">Phone:</div>
                <div class="detail-value" th:text="${library.phone}">+49 30 12345678</div>
            </div>

            <div class="detail-section" th:if="${library.email}">
                <div class="detail-label" th:text="#{library.email}">Email:</div>
                <div class="detail-value">
                    <a th:href="'mailto:' + ${library.email}" th:text="${library.email}">library@example.com</a>
                </div>
            </div>

            <div class="detail-section" th:if="${library.website}">
                <div class="detail-label" th:text="#{library.website}">Website:</div>
                <div class="detail-value">
                    <a th:href="${library.website}" target="_blank" th:text="${library.website}">https://library.example.com</a>
                </div>
            </div>
        </div>

        <!-- Admin actions -->
        <div sec:authorize="hasRole('ADMIN')" class="admin-actions">
            <a th:href="@{/libraries/{id}/edit(id=${library.id})}" class="btn btn-secondary" th:text="#{button.edit}">Edit</a>
            <form th:action="@{/libraries/{id}/delete(id=${library.id})}" method="post" class="inline-form">
                <button type="submit" class="btn btn-danger" th:text="#{button.delete}"
                        onclick="return confirm('Are you sure you want to delete this library?')">Delete</button>
            </form>
        </div>

        <div class="actions">
            <a th:href="@{/libraries}" class="btn btn-primary" th:text="#{button.back}">Back to Libraries</a>
        </div>
    </div>
</div>

<!-- Include footer fragment -->
<div th:replace="~{fragments/footer :: footer}"></div>
</body>
</html>